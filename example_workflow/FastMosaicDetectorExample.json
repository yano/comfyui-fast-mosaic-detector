{"id":"5327e1d6-b83d-495e-b2b5-1202ceeeb0b7","revision":0,"last_node_id":38,"last_link_id":60,"nodes":[{"id":17,"type":"VHS_VideoInfo","pos":[-3644.556640625,309.41290283203125],"size":[225.59765625,206],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","link":22}],"outputs":[{"localized_name":"source_fpsüü®","name":"source_fpsüü®","type":"FLOAT","links":[23]},{"localized_name":"source_frame_countüü®","name":"source_frame_countüü®","type":"INT","links":null},{"localized_name":"source_durationüü®","name":"source_durationüü®","type":"FLOAT","links":null},{"localized_name":"source_widthüü®","name":"source_widthüü®","type":"INT","links":null},{"localized_name":"source_heightüü®","name":"source_heightüü®","type":"INT","links":null},{"localized_name":"loaded_fpsüü¶","name":"loaded_fpsüü¶","type":"FLOAT","links":null},{"localized_name":"loaded_frame_countüü¶","name":"loaded_frame_countüü¶","type":"INT","links":null},{"localized_name":"loaded_durationüü¶","name":"loaded_durationüü¶","type":"FLOAT","links":null},{"localized_name":"loaded_widthüü¶","name":"loaded_widthüü¶","type":"INT","links":null},{"localized_name":"loaded_heightüü¶","name":"loaded_heightüü¶","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_VideoInfo","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{},"color":"#223","bgcolor":"#335"},{"id":6,"type":"MaskToImage","pos":[-3277.606201171875,-69.99124908447266],"size":[165.89999389648438,26],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"„Éû„Çπ„ÇØ","name":"mask","type":"MASK","link":58}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[4]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.61","Node name for S&R":"MaskToImage","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":[]},{"id":7,"type":"ImageBlend","pos":[-3058.56591796875,-61.142738342285156],"size":[241.46588134765625,102],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"ÁîªÂÉè1","name":"image1","type":"IMAGE","link":4},{"localized_name":"ÁîªÂÉè2","name":"image2","type":"IMAGE","link":20},{"localized_name":"„Éñ„É¨„É≥„Éâ„Éï„Ç°„ÇØ„Çø„Éº","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"„Éñ„É¨„É≥„Éâ„É¢„Éº„Éâ","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[21]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.61","Node name for S&R":"ImageBlend","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":[0.5,"normal"]},{"id":16,"type":"VHS_VideoCombine","pos":[-2673.61669921875,-95.95268249511719],"size":[426.89837646484375,1071.3748779296875],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":21},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":60},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":23},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","p010le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"bitrate","type":"INT","widget":{"name":"bitrate"},"link":null},{"name":"megabit","type":"BOOLEAN","widget":{"name":"megabit"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_VideoCombine","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"MosaicDetect","format":"video/nvenc_h264-mp4","pix_fmt":"yuv420p","bitrate":10,"megabit":true,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"MosaicDetect_00020.mp4","subfolder":"","type":"output","format":"video/nvenc_h264-mp4","frame_rate":30,"workflow":"MosaicDetect_00020.png","fullpath":"E:\\StableDiffusion\\SimpleComfyUi\\ComfyUI\\output\\MosaicDetect_00020.mp4"}}},"color":"#223","bgcolor":"#335"},{"id":38,"type":"Note","pos":[-4043.030517578125,-432.28070068359375],"size":[210,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.1","input_ue_unconnectable":{}}},"widgets_values":["Purple:Fast Mosaic Detector\nBlue:Video Helper Suite"],"color":"#432","bgcolor":"#653"},{"id":14,"type":"VHS_LoadVideoPath","pos":[-4018.891845703125,36.67200469970703],"size":[294.9211120605469,788.7486572265625],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":59},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"STRING","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[20,57]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":[22]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_LoadVideoPath","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{"video":"\"D:\\Videos\\example_video.mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"None","videopreview":{"hidden":false,"paused":true,"params":{"filename":"\"D:\\Videos\\example_video.mp4\"","type":"path","format":"video/mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}},"color":"#223","bgcolor":"#335"},{"id":34,"type":"VHS_BatchManager","pos":[-3917.262939453125,-673.900634765625],"size":[255.0703125,58],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"frames_per_batch","name":"frames_per_batch","type":"INT","widget":{"name":"frames_per_batch"},"link":null}],"outputs":[{"localized_name":"meta_batch","name":"meta_batch","type":"VHS_BatchManager","links":[59,60]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_BatchManager","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{"frames_per_batch":150,"count":17},"color":"#223","bgcolor":"#335"},{"id":36,"type":"MosaicDetectionNode","pos":[-3649.312744140625,-463.1473693847656],"size":[301.443359375,702],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":57},{"localized_name":"hsv_skin_h_low","name":"hsv_skin_h_low","type":"INT","widget":{"name":"hsv_skin_h_low"},"link":null},{"localized_name":"hsv_skin_h_high","name":"hsv_skin_h_high","type":"INT","widget":{"name":"hsv_skin_h_high"},"link":null},{"localized_name":"hsv_skin_s_threshold","name":"hsv_skin_s_threshold","type":"INT","widget":{"name":"hsv_skin_s_threshold"},"link":null},{"localized_name":"gradient_threshold","name":"gradient_threshold","type":"FLOAT","widget":{"name":"gradient_threshold"},"link":null},{"localized_name":"ratio_threshold","name":"ratio_threshold","type":"FLOAT","widget":{"name":"ratio_threshold"},"link":null},{"localized_name":"histogram_threshold","name":"histogram_threshold","type":"FLOAT","widget":{"name":"histogram_threshold"},"link":null},{"localized_name":"mosaic_length_min","name":"mosaic_length_min","type":"INT","widget":{"name":"mosaic_length_min"},"link":null},{"localized_name":"mosaic_length_max","name":"mosaic_length_max","type":"INT","widget":{"name":"mosaic_length_max"},"link":null},{"localized_name":"intersection_margin","name":"intersection_margin","type":"INT","widget":{"name":"intersection_margin"},"link":null},{"localized_name":"gradient_band_height","name":"gradient_band_height","type":"INT","widget":{"name":"gradient_band_height"},"link":null},{"localized_name":"gradient_band_half_width","name":"gradient_band_half_width","type":"INT","widget":{"name":"gradient_band_half_width"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"processing_backend","name":"processing_backend","type":"COMBO","widget":{"name":"processing_backend"},"link":null},{"localized_name":"max_workers","name":"max_workers","type":"INT","widget":{"name":"max_workers"},"link":null},{"localized_name":"fast_recall_boost","name":"fast_recall_boost","type":"FLOAT","widget":{"name":"fast_recall_boost"},"link":null},{"localized_name":"roi_margin_px","name":"roi_margin_px","type":"INT","widget":{"name":"roi_margin_px"},"link":null},{"localized_name":"refine_logic","name":"refine_logic","type":"COMBO","widget":{"name":"refine_logic"},"link":null},{"localized_name":"refine_frame_stride","name":"refine_frame_stride","type":"INT","widget":{"name":"refine_frame_stride"},"link":null},{"localized_name":"roi_merge_dilate_px","name":"roi_merge_dilate_px","type":"INT","widget":{"name":"roi_merge_dilate_px"},"link":null},{"localized_name":"roi_max_count","name":"roi_max_count","type":"INT","widget":{"name":"roi_max_count"},"link":null},{"localized_name":"min_mask_pixels","name":"min_mask_pixels","type":"INT","widget":{"name":"min_mask_pixels"},"link":null},{"localized_name":"frame_cover_threshold","name":"frame_cover_threshold","type":"FLOAT","widget":{"name":"frame_cover_threshold"},"link":null},{"localized_name":"adaptive_roi_area_ratio","name":"adaptive_roi_area_ratio","type":"FLOAT","widget":{"name":"adaptive_roi_area_ratio"},"link":null},{"localized_name":"adaptive_roi_min_side","name":"adaptive_roi_min_side","type":"INT","widget":{"name":"adaptive_roi_min_side"},"link":null},{"localized_name":"roi_downscale_large","name":"roi_downscale_large","type":"FLOAT","widget":{"name":"roi_downscale_large"},"link":null},{"localized_name":"roi_aspect_ratio_max","name":"roi_aspect_ratio_max","type":"FLOAT","widget":{"name":"roi_aspect_ratio_max"},"link":null},{"localized_name":"roi_min_short_side","name":"roi_min_short_side","type":"INT","widget":{"name":"roi_min_short_side"},"link":null}],"outputs":[{"localized_name":"„Éû„Çπ„ÇØ","name":"MASK","type":"MASK","links":[58]},{"localized_name":"Êï¥Êï∞","name":"INT","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-fast-mosaic-detector","ver":"fdbce2120e2f1b1f340a03a2f9f57bd2b798c67e","Node name for S&R":"MosaicDetectionNode","aux_id":"yano/comfyui-fast-mosaic-detector","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":[35,160,25,2.5,2.74,0.1,4,40,5,1,15,"HYBRID","AUTO",8,0.9,24,"replace",3,8,5,200,0.3,0.25,48,0.75,3,12],"color":"#323","bgcolor":"#535"},{"id":37,"type":"Note","pos":[-3919.64697265625,-819.3180541992188],"size":[266.241943359375,88],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.1","input_ue_unconnectable":{}}},"widgets_values":["If you want to process long videos, VideoHelperSuite's MetaBatchManager is useful"],"color":"#432","bgcolor":"#653"}],"links":[[4,6,0,7,0,"IMAGE"],[20,14,0,7,1,"IMAGE"],[21,7,0,16,0,"IMAGE"],[22,14,3,17,0,"VHS_VIDEOINFO"],[23,17,0,16,4,"FLOAT"],[57,14,0,36,0,"IMAGE"],[58,36,0,6,0,"MASK"],[59,34,0,14,0,"VHS_BatchManager"],[60,34,0,16,2,"VHS_BatchManager"]],"groups":[],"config":{},"extra":{"ue_links":[],"links_added_by_ue":[],"ds":{"scale":0.9229599817707,"offset":[4535.871602931666,433.9572511660824]}},"version":0.4}
