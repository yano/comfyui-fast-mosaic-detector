{"id":"5672f156-a86b-480d-bea8-2b9d4420273b","revision":0,"last_node_id":44,"last_link_id":75,"nodes":[{"id":17,"type":"VHS_VideoInfo","pos":[-3644.556640625,309.41290283203125],"size":[225.59765625,206],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","link":22}],"outputs":[{"localized_name":"source_fpsüü®","name":"source_fpsüü®","type":"FLOAT","links":[23]},{"localized_name":"source_frame_countüü®","name":"source_frame_countüü®","type":"INT","links":null},{"localized_name":"source_durationüü®","name":"source_durationüü®","type":"FLOAT","links":null},{"localized_name":"source_widthüü®","name":"source_widthüü®","type":"INT","links":null},{"localized_name":"source_heightüü®","name":"source_heightüü®","type":"INT","links":null},{"localized_name":"loaded_fpsüü¶","name":"loaded_fpsüü¶","type":"FLOAT","links":null},{"localized_name":"loaded_frame_countüü¶","name":"loaded_frame_countüü¶","type":"INT","links":null},{"localized_name":"loaded_durationüü¶","name":"loaded_durationüü¶","type":"FLOAT","links":null},{"localized_name":"loaded_widthüü¶","name":"loaded_widthüü¶","type":"INT","links":null},{"localized_name":"loaded_heightüü¶","name":"loaded_heightüü¶","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_VideoInfo","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{},"color":"#223","bgcolor":"#335"},{"id":34,"type":"VHS_BatchManager","pos":[-3917.262939453125,-673.900634765625],"size":[255.0703125,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"frames_per_batch","name":"frames_per_batch","type":"INT","widget":{"name":"frames_per_batch"},"link":null}],"outputs":[{"localized_name":"meta_batch","name":"meta_batch","type":"VHS_BatchManager","links":[59,60]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_BatchManager","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{"frames_per_batch":150,"count":49},"color":"#223","bgcolor":"#335"},{"id":6,"type":"MaskToImage","pos":[-3237.222900390625,-79.84101867675781],"size":[165.89999389648438,26],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"„Éû„Çπ„ÇØ","name":"mask","type":"MASK","link":68}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[4]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.61","Node name for S&R":"MaskToImage","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":[]},{"id":39,"type":"Text Overlay","pos":[-2658.658203125,-584.6953735351562],"size":[400,352],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":63},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":66},{"localized_name":"font_size","name":"font_size","type":"INT","widget":{"name":"font_size"},"link":null},{"localized_name":"font","name":"font","type":"STRING","widget":{"name":"font"},"link":null},{"localized_name":"fill_color_hex","name":"fill_color_hex","type":"STRING","widget":{"name":"fill_color_hex"},"link":null},{"localized_name":"stroke_color_hex","name":"stroke_color_hex","type":"STRING","widget":{"name":"stroke_color_hex"},"link":null},{"localized_name":"stroke_thickness","name":"stroke_thickness","type":"FLOAT","widget":{"name":"stroke_thickness"},"link":null},{"localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"localized_name":"horizontal_alignment","name":"horizontal_alignment","type":"COMBO","widget":{"name":"horizontal_alignment"},"link":null},{"localized_name":"vertical_alignment","name":"vertical_alignment","type":"COMBO","widget":{"name":"vertical_alignment"},"link":null},{"localized_name":"x_shift","name":"x_shift","type":"INT","widget":{"name":"x_shift"},"link":null},{"localized_name":"y_shift","name":"y_shift","type":"INT","widget":{"name":"y_shift"},"link":null},{"localized_name":"line_spacing","name":"line_spacing","type":"FLOAT","widget":{"name":"line_spacing"},"link":null}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[74]}],"properties":{"cnr_id":"comfyui-textoverlay","ver":"1.0.1","Node name for S&R":"Text Overlay","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":["Hello",32,"ariblk.ttf","#FFFFFF","#000000",0.2,16,"center","bottom",0,0,4]},{"id":41,"type":"StringConcatenate","pos":[-2940.800537109375,-560.498779296875],"size":[210,166],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"string_a","name":"string_a","type":"STRING","widget":{"name":"string_a"},"link":null},{"localized_name":"string_b","name":"string_b","type":"STRING","widget":{"name":"string_b"},"link":65},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null}],"outputs":[{"localized_name":"ÊñáÂ≠óÂàó","name":"STRING","type":"STRING","links":[66]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.61","Node name for S&R":"StringConcatenate","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":["mosaic block size: ","",""]},{"id":40,"type":"JWIntegerToString","pos":[-3185.92138671875,-480.55328369140625],"size":[210,82],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":75},{"localized_name":"format_string","name":"format_string","type":"STRING","widget":{"name":"format_string"},"link":null}],"outputs":[{"localized_name":"ÊñáÂ≠óÂàó","name":"STRING","type":"STRING","links":[65]}],"properties":{"cnr_id":"comfyui-various","ver":"5bd85aaf7616878471469c4ec7e11bbd0cef3bf2","Node name for S&R":"JWIntegerToString","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":[0,"{:d}"]},{"id":7,"type":"ImageBlend","pos":[-3018.24462890625,-21.896379470825195],"size":[241.46588134765625,102],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"ÁîªÂÉè1","name":"image1","type":"IMAGE","link":4},{"localized_name":"ÁîªÂÉè2","name":"image2","type":"IMAGE","link":73},{"localized_name":"„Éñ„É¨„É≥„Éâ„Éï„Ç°„ÇØ„Çø„Éº","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"„Éñ„É¨„É≥„Éâ„É¢„Éº„Éâ","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[63]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.61","Node name for S&R":"ImageBlend","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":[0.5,"normal"]},{"id":37,"type":"Note","pos":[-3915.186767578125,-838.8858032226562],"size":[266.241943359375,88],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.1","input_ue_unconnectable":{}}},"widgets_values":["If you want to process long videos, VideoHelperSuite's MetaBatchManager is useful"],"color":"#432","bgcolor":"#653"},{"id":42,"type":"MosaicDetectionNode","pos":[-3639.28857421875,-478.4685974121094],"size":[301.443359375,702],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":72},{"localized_name":"hsv_skin_h_low","name":"hsv_skin_h_low","type":"INT","widget":{"name":"hsv_skin_h_low"},"link":null},{"localized_name":"hsv_skin_h_high","name":"hsv_skin_h_high","type":"INT","widget":{"name":"hsv_skin_h_high"},"link":null},{"localized_name":"hsv_skin_s_threshold","name":"hsv_skin_s_threshold","type":"INT","widget":{"name":"hsv_skin_s_threshold"},"link":null},{"localized_name":"gradient_threshold","name":"gradient_threshold","type":"FLOAT","widget":{"name":"gradient_threshold"},"link":null},{"localized_name":"ratio_threshold","name":"ratio_threshold","type":"FLOAT","widget":{"name":"ratio_threshold"},"link":null},{"localized_name":"histogram_threshold","name":"histogram_threshold","type":"FLOAT","widget":{"name":"histogram_threshold"},"link":null},{"localized_name":"mosaic_length_min","name":"mosaic_length_min","type":"INT","widget":{"name":"mosaic_length_min"},"link":null},{"localized_name":"mosaic_length_max","name":"mosaic_length_max","type":"INT","widget":{"name":"mosaic_length_max"},"link":null},{"localized_name":"intersection_margin","name":"intersection_margin","type":"INT","widget":{"name":"intersection_margin"},"link":null},{"localized_name":"gradient_band_height","name":"gradient_band_height","type":"INT","widget":{"name":"gradient_band_height"},"link":null},{"localized_name":"gradient_band_half_width","name":"gradient_band_half_width","type":"INT","widget":{"name":"gradient_band_half_width"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"processing_backend","name":"processing_backend","type":"COMBO","widget":{"name":"processing_backend"},"link":null},{"localized_name":"max_workers","name":"max_workers","type":"INT","widget":{"name":"max_workers"},"link":null},{"localized_name":"fast_recall_boost","name":"fast_recall_boost","type":"FLOAT","widget":{"name":"fast_recall_boost"},"link":null},{"localized_name":"roi_margin_px","name":"roi_margin_px","type":"INT","widget":{"name":"roi_margin_px"},"link":null},{"localized_name":"refine_logic","name":"refine_logic","type":"COMBO","widget":{"name":"refine_logic"},"link":null},{"localized_name":"refine_frame_stride","name":"refine_frame_stride","type":"INT","widget":{"name":"refine_frame_stride"},"link":null},{"localized_name":"roi_merge_dilate_px","name":"roi_merge_dilate_px","type":"INT","widget":{"name":"roi_merge_dilate_px"},"link":null},{"localized_name":"roi_max_count","name":"roi_max_count","type":"INT","widget":{"name":"roi_max_count"},"link":null},{"localized_name":"min_mask_pixels","name":"min_mask_pixels","type":"INT","widget":{"name":"min_mask_pixels"},"link":null},{"localized_name":"frame_cover_threshold","name":"frame_cover_threshold","type":"FLOAT","widget":{"name":"frame_cover_threshold"},"link":null},{"localized_name":"adaptive_roi_area_ratio","name":"adaptive_roi_area_ratio","type":"FLOAT","widget":{"name":"adaptive_roi_area_ratio"},"link":null},{"localized_name":"adaptive_roi_min_side","name":"adaptive_roi_min_side","type":"INT","widget":{"name":"adaptive_roi_min_side"},"link":null},{"localized_name":"roi_downscale_large","name":"roi_downscale_large","type":"FLOAT","widget":{"name":"roi_downscale_large"},"link":null},{"localized_name":"roi_aspect_ratio_max","name":"roi_aspect_ratio_max","type":"FLOAT","widget":{"name":"roi_aspect_ratio_max"},"link":null},{"localized_name":"roi_min_short_side","name":"roi_min_short_side","type":"INT","widget":{"name":"roi_min_short_side"},"link":null}],"outputs":[{"localized_name":"„Éû„Çπ„ÇØ","name":"MASK","type":"MASK","links":[68]},{"localized_name":"Êï¥Êï∞","name":"INT","type":"INT","links":[75]}],"properties":{"cnr_id":"comfyui-fast-mosaic-detector","ver":"1.0.4","Node name for S&R":"MosaicDetectionNode","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":[35,160,25,2.5,2.74,0.1,4,40,5,1,15,"HYBRID","AUTO",8,0.9,24,"replace",3,8,5,200,0.3,0.25,48,0.75,3,12],"color":"#323","bgcolor":"#535"},{"id":44,"type":"JWImageResizeByFactor","pos":[-4098.533203125,-2.705396890640259],"size":[270,82],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":71},{"localized_name":"factor","name":"factor","type":"FLOAT","widget":{"name":"factor"},"link":null},{"localized_name":"interpolation_mode","name":"interpolation_mode","type":"COMBO","widget":{"name":"interpolation_mode"},"link":null}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[72,73]}],"properties":{"cnr_id":"comfyui-various","ver":"5bd85aaf7616878471469c4ec7e11bbd0cef3bf2","Node name for S&R":"JWImageResizeByFactor","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":[0.75,"nearest exact"]},{"id":38,"type":"Note","pos":[-4100.4931640625,-186.5301971435547],"size":[304.8576965332031,108.18247985839844],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.1","input_ue_unconnectable":{}}},"widgets_values":["When processing Full HD video, we recommend downsizing the image to 0.5 to 0.75 times its original size, as this allows for sufficiently accurate estimation at a faster speed. Since the estimable mosaic size is approximately 4 to 30 pixels, we recommend resizing the image so that the mosaic fits within this size range."],"color":"#432","bgcolor":"#653"},{"id":14,"type":"VHS_LoadVideoPath","pos":[-4493.96435546875,-3.5938076972961426],"size":[294.9211120605469,286],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":59},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"STRING","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"ÁîªÂÉè","name":"IMAGE","type":"IMAGE","links":[71]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":[22]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_LoadVideoPath","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{"video":"\"D:\\Videos\\SomeFullHDVideo.mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"None","videopreview":{"hidden":false,"paused":true,"params":{"filename":"\"D:\\Videos\\SomeFullHDVideo.mp4\"","type":"path","format":"video/mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}},"color":"#223","bgcolor":"#335"},{"id":16,"type":"VHS_VideoCombine","pos":[-2166.15771484375,-69.08981323242188],"size":[426.89837646484375,576.8803100585938],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":74},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":60},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":23},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","p010le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"bitrate","type":"INT","widget":{"name":"bitrate"},"link":null},{"name":"megabit","type":"BOOLEAN","widget":{"name":"megabit"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.5.11","Node name for S&R":"VHS_VideoCombine","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.1"}},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"MosaicDetect","format":"video/nvenc_h264-mp4","pix_fmt":"yuv420p","bitrate":10,"megabit":true,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"MosaicDetect_00015.mp4","subfolder":"","type":"temp","format":"video/nvenc_h264-mp4","frame_rate":29.97002997002997,"workflow":"MosaicDetect_00015.png","fullpath":"E:\\StableDiffusion\\SimpleComfyUi\\ComfyUI\\temp\\MosaicDetect_00015.mp4"}}},"color":"#223","bgcolor":"#335"}],"links":[[4,6,0,7,0,"IMAGE"],[22,14,3,17,0,"VHS_VIDEOINFO"],[23,17,0,16,4,"FLOAT"],[59,34,0,14,0,"VHS_BatchManager"],[60,34,0,16,2,"VHS_BatchManager"],[63,7,0,39,0,"IMAGE"],[65,40,0,41,1,"STRING"],[66,41,0,39,1,"STRING"],[68,42,0,6,0,"MASK"],[71,14,0,44,0,"IMAGE"],[72,44,0,42,0,"IMAGE"],[73,44,0,7,1,"IMAGE"],[74,39,0,16,0,"IMAGE"],[75,42,1,40,0,"INT"]],"groups":[{"id":1,"title":"Mosaic Blokck Size Text Overlay","bounding":[-3195.92138671875,-658.2952880859375,947.26318359375,435.6000061035156],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ue_links":[],"links_added_by_ue":[],"ds":{"scale":0.6934334949441808,"offset":[4095.4160085221733,576.184831863974]}},"version":0.4}